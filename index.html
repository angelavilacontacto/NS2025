<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sistema POS Completo</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <!-- P√ÅGINA PRINCIPAL -->
    <div id="page-home" class="page active">
      <header>
        <h1>Sistema de Gesti√≥n Comercial NS</h1>
      </header>
      
      <nav class="menu-principal">
        <button onclick="showPage('ventas')" class="menu-btn">üßæ Ventas</button>
        <button onclick="showPage('inventario')" class="menu-btn">üì¶ Inventario</button>
        <button onclick="showPage('clientes')" class="menu-btn">üë• Clientes</button>
        <button onclick="showPage('finanzas')" class="menu-btn">üí∞ Finanzas</button>
      </nav>
      
      <main class="welcome">
        <h2>BIENVENIDO A NORYANG SERVICIOS.</h2>
        <p>Selecciona un m√≥dulo del men√∫.</p>
      </main>
    </div>

    <!-- P√ÅGINA DE VENTAS -->
    <div id="page-ventas" class="page">
      <header>
        <h1>üßæ Punto de Venta</h1>
        <button onclick="showPage('home')" class="btn-back">‚¨Ö Volver</button>
      </header>
      
      <main>
        <h2>Registrar Venta</h2>
        
        <div class="form-group">
          <label>Producto:</label>
          <input id="producto" type="text" placeholder="Ej: Samsung A14">
        </div>
        
        <div class="form-group">
          <label>Cantidad:</label>
          <input id="cantidad" type="number" min="1" placeholder="Cantidad">
        </div>
        
        <div class="form-group">
          <label>Precio Unitario (L):</label>
          <input id="precio" type="number" step="0.01" placeholder="Precio">
        </div>
        
        <div class="form-group">
          <label>M√©todo de Pago:</label>
          <select id="metodo">
            <option>Efectivo</option>
            <option>Tarjeta</option>
            <option>Transferencia</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>Cliente:</label>
          <input id="cliente" type="text" placeholder="Nombre del cliente">
        </div>
        
        <button onclick="guardarVenta()" class="btn-primary">üíæ Registrar Venta</button>
        
        <h3>Ventas recientes</h3>
        <div class="table-container">
          <table id="tablaVentas">
            <thead>
              <tr>
                <th>Fecha</th>
                <th>Producto</th>
                <th>Cant</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </main>
    </div>

    <!-- P√ÅGINA DE INVENTARIO - MEN√ö PRINCIPAL -->
    <div id="page-inventario" class="page">
      <header>
        <h1>üì¶ Inventario</h1>
        <button onclick="showPage('home')" class="btn-back">‚¨Ö Volver</button>
      </header>
      
      <main>
        <h2>Gesti√≥n de Inventario</h2>
        
        <div class="inventario-menu">
          <button onclick="mostrarInventarioCompleto()" class="inventario-menu-btn">
            <span class="icon">üìã</span>
            <span class="text">Inventario Completo</span>
            <span class="desc">Ver todos los productos</span>
          </button>
          
          <button onclick="mostrarAgregarProducto()" class="inventario-menu-btn">
            <span class="icon">‚ûï</span>
            <span class="text">Agregar Producto</span>
            <span class="desc">Registrar nuevo producto</span>
          </button>
          
          <button onclick="mostrarReportes()" class="inventario-menu-btn">
            <span class="icon">üìä</span>
            <span class="text">Reportes</span>
            <span class="desc">Estad√≠sticas y an√°lisis</span>
          </button>
        </div>
        
        <!-- SECCI√ìN: INVENTARIO COMPLETO -->
        <div id="seccion-inventario-completo" class="inventario-seccion" style="display: none;">
          <div class="seccion-header">
            <h3>üìã Inventario Completo</h3>
            <button onclick="volverMenuInventario()" class="btn-secondary">‚¨Ö Volver al Men√∫</button>
          </div>
          
          <!-- BUSCADOR -->
          <div class="buscador-container">
            <input 
              type="text" 
              id="buscadorInventario" 
              placeholder="üîç Buscar por nombre, marca, modelo o proveedor..." 
              onkeyup="buscarEnInventario()"
            >
          </div>
          
          <div class="table-container">
            <table id="tablaInventarioCompleto">
              <thead>
                <tr>
                  <th>Foto</th>
                  <th>Nombre</th>
                  <th>Marca</th>
                  <th>Modelo</th>
                  <th>Stock</th>
                  <th>Precio Venta</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
        
        <!-- SECCI√ìN: AGREGAR PRODUCTO -->
        <div id="seccion-agregar-producto" class="inventario-seccion" style="display: none;">
          <div class="seccion-header">
            <h3>‚ûï Agregar Nuevo Producto</h3>
            <button onclick="volverMenuInventario()" class="btn-secondary">‚¨Ö Volver al Men√∫</button>
          </div>
          
          <div class="form-group">
            <label>Imagen del Producto:</label>
            <div class="image-selector">
              <input id="imagenUrl" type="text" placeholder="URL de la imagen" readonly>
              <button onclick="abrirSelectorImagenes()" class="btn-secondary">üì∑ Seleccionar</button>
            </div>
            <div id="previewContainer" class="preview-container" style="display: none;">
              <img id="imagenPreview" alt="Vista previa">
            </div>
          </div>
          
          <div class="form-group">
            <label>Nombre del Producto:</label>
            <input id="nombre" type="text" placeholder="Ej: Samsung Galaxy A14">
          </div>
          
          <div class="form-group">
            <label>Marca:</label>
            <input id="marca" type="text" placeholder="Ej: Samsung">
          </div>
          
          <div class="form-group">
            <label>Modelo:</label>
            <input id="modelo" type="text" placeholder="Ej: A14">
          </div>
          
          <div class="form-group">
            <label>Precio Compra (L):</label>
            <input id="precioCompra" type="text" placeholder="L 0.00" inputmode="decimal">
            <small style="color: #666; font-size: 0.85em; display: block; margin-top: 5px;">
            </small>
          </div>

          <div class="form-group">
            <label>Precio Venta (L): *</label>
            <input id="precioVenta" type="text" placeholder="L 0.00" inputmode="decimal">
            <small style="color: #666; font-size: 0.85em; display: block; margin-top: 5px;">
            </small>
          </div>
          
          <div class="form-group">
            <label>Stock Inicial:</label>
            <input id="stock" type="number" placeholder="0">
          </div>
          
          <div class="form-group">
            <label>Proveedor:</label>
            <input id="proveedor" type="text" placeholder="Nombre del proveedor">
          </div>
          
          <button onclick="guardarProducto()" class="btn-primary">üíæ Guardar Producto</button>
        </div>
        
        <!-- SECCI√ìN: REPORTES -->
        <div id="seccion-reportes" class="inventario-seccion" style="display: none;">
          <div class="seccion-header">
            <h3>üìä Reportes y Estad√≠sticas</h3>
            <button onclick="volverMenuInventario()" class="btn-secondary">‚¨Ö Volver al Men√∫</button>
          </div>
          
          <div class="reportes-grid">
            <div class="reporte-card">
              <h4>üì¶ Total Productos</h4>
              <p class="reporte-valor" id="totalProductos">0</p>
            </div>
            
            <div class="reporte-card">
              <h4>üí∞ Valor Total Inventario</h4>
              <p class="reporte-valor" id="valorInventario">L 0.00</p>
            </div>
            
            <div class="reporte-card">
              <h4>‚ö†Ô∏è Stock Bajo</h4>
              <p class="reporte-valor" id="stockBajo">0</p>
              <small>Productos con menos de 5 unidades</small>
            </div>
            
            <div class="reporte-card">
              <h4>üì∏ Con Fotos</h4>
              <p class="reporte-valor" id="conFotos">0</p>
            </div>
          </div>
          
          <h4 style="margin-top: 30px;">‚ö†Ô∏è Productos con Stock Bajo</h4>
          <div class="table-container">
            <table id="tablaStockBajo">
              <thead>
                <tr>
                  <th>Producto</th>
                  <th>Marca</th>
                  <th>Stock Actual</th>
                  <th>Estado</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </main>
    </div>

    <!-- P√ÅGINA DE CLIENTES CON N√öMERO DE IDENTIDAD -->
    <div id="page-clientes" class="page">
      <header>
        <h1>üë• Clientes y Proveedores</h1>
        <button onclick="showPage('home')" class="btn-back">‚¨Ö Volver</button>
      </header>
      
      <main>
        <h2>Agregar Cliente</h2>
        
        <div class="form-group">
          <label>Nombre Completo:</label>
          <input id="nombreCliente" type="text" placeholder="Ej: Cleotilde Caceres">
        </div>
        
        <div class="form-group">
          <label>N√∫mero de Identidad:</label>
          <input id="identidadCliente" type="text" placeholder="0000-0000-00000" maxlength="15">
          <small style="color: #666; font-size: 0.85em; display: block; margin-top: 5px;">Formato: 0801-1990-12345 (13 d√≠gitos)</small>
        </div>
        
        <div class="form-group">
          <label>Tel√©fono:</label>
          <input id="telefonoCliente" type="text" placeholder="+504 0000-0000">
        </div>
        
        <div class="form-group">
          <label>Correo Electr√≥nico:</label>
          <input id="correoCliente" type="email" placeholder="cliente@ejemplo.com">
        </div>
        
        <button onclick="guardarCliente()" class="btn-primary">üíæ Guardar Cliente</button>
        
        <h3>Lista de Clientes</h3>
        <div class="table-container">
          <table id="tablaClientes">
            <thead>
              <tr>
                <th>Nombre</th>
                <th>Identidad</th>
                <th>Tel√©fono</th>
                <th>Correo</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </main>
    </div>

    <!-- P√ÅGINA DE FINANZAS -->
    <div id="page-finanzas" class="page">
      <header>
        <h1>üí∞ Finanzas y Gastos</h1>
        <button onclick="showPage('home')" class="btn-back">‚¨Ö Volver</button>
      </header>
      
      <main>
        <h2>Registrar Gasto</h2>
        
        <div class="form-group">
          <input id="descripcion" type="text" placeholder="Descripci√≥n del gasto">
        </div>
        
        <div class="form-group">
          <input id="monto" type="number" step="0.01" placeholder="Monto (L)">
        </div>
        
        <div class="form-group">
          <select id="tipo">
            <option>Fijo</option>
            <option>Variable</option>
          </select>
        </div>
        
        <button onclick="guardarGasto()" class="btn-primary">üíæ Guardar Gasto</button>
        
        <h3>Lista de Gastos</h3>
        <div class="table-container">
          <table id="tablaGastos">
            <thead>
              <tr>
                <th>Fecha</th>
                <th>Descripci√≥n</th>
                <th>Tipo</th>
                <th>Monto</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </main>
    </div>
  </div>

  <!-- MODAL DE SELECCI√ìN DE IM√ÅGENES -->
  <div id="modalImagenes" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>üì∑ Seleccionar Imagen de Google Drive</h2>
        <button class="close-modal" onclick="cerrarModal()">&times;</button>
      </div>
      
      <div id="imagenesContainer">
        <div class="loading">Cargando im√°genes...</div>
      </div>
      
      <button onclick="confirmarSeleccion()" class="btn-primary" style="margin-top: 20px;">‚úì Confirmar Selecci√≥n</button>
    </div>
  </div>

  <!-- LIGHTBOX PARA VER IM√ÅGENES EN GRANDE -->
  <div id="imageLightbox" class="image-lightbox" onclick="cerrarLightbox()">
    <span class="image-lightbox-close">&times;</span>
    <img id="lightboxImg" src="" alt="Imagen en grande">
  </div>

  <!-- FOOTER √öNICO AL FINAL -->
  <footer>
    ¬© 2025 NoryAng Servicios. Todos los derechos reservados.<br>
    Sistema de Gesti√≥n Comercial desarrollado por AracGroupHN.
  </footer>

  <script src="app.js"></script>
</body>
</html>
